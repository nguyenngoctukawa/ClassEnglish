<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="../../../../lib/css/main.css"/>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
            crossorigin="anonymous"
    />
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
            integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />

    <title>Register</title>
    <style>
        * {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
            color: lightgray;
            opacity: 1; /* Firefox */
        }

        :-ms-input-placeholder { /* Internet Explorer 10-11 */
            color: lightgray;
        }

        ::-ms-input-placeholder { /* Microsoft Edge */
            color: lightgray;
        }

        .divider:after,
        .divider:before {
            content: "";
            flex: 1;
            height: .5px;

            background-color: lightgray;
        }

        input[type='radio'] {
            accent-color: #4dc038;

        }

        .bg-green {
            background-color: #4dc038;
        }

        .text-lightgray {
            color: lightgray;
        }

        .text-grey {
            color: grey;
        }

        .text-blue {
            color: rgb(20, 20, 130);
        }

        .text-green {
            color: #4dc038;
        }

        .display-7 {
            font-size: 12px;
        }

        .input-control input {
            border: 2px solid #f0f0f0;
            border-radius: 4px;
            display: block;
            font-size: 12px;
            padding: 10px;
            width: 95%;
        }

        .input-control input:focus {
            outline: 0;
        }

        .input-control.success input {
            border-color: #09c372;
        }

        .input-control.error input {
            border-color: #ff3860;
        }
        .input-control .error {
            color: #ff3860;
            font-size: 12px;
            height: 15px;
            text-align: left;
        }
    </style>
    <!--    <script>-->
    <!--        function CheckforUser() {-->
    <!--            if (document.getElementById('User').value==""){-->
    <!--               `tgryy alert("Please enter your User");-->
    <!--                return false;-->
    <!--            }-->
    <!--            if (document.getElementById('Pass').value==""){-->
    <!--                alert("Please enter your Password");-->
    <!--                return false;-->
    <!--            }-->
    <!--            if (document.getElementById('fPass').value==""){-->
    <!--                alert("Please enter your Password");-->
    <!--                return false;-->
    <!--            }-->
    <!--            if (document.getElementById('check-l').checked){-->
    <!--                alert("\n" +-->
    <!--                    "You have not entered all the information");-->
    <!--                return false;-->
    <!--            }-->

    <!--        }-->
    <!--    </script>-->
    <script>
        // var dem = 0;
        // window.onload = function (){
        //     var check= document.getElementById('check-t');
        //     check.checked=true;
            // let errorr = document.getElementById('newerror');
            // let userRter =document.getElementById('UserRegister');
            // let dulieu1 = localStorage.getItem("id1");
            // if(userRter.value!='')
            // { //
            //     if(dulieu1=="1")
            //         // error.innerText="";
            //         localStorage.setItem("id1","0");
            //     }
            //     else{
            //         document.getElementById('myModal').style.display = 'block'
            //         error.innerText="Username or Password not correct";
            //         error.style.color="red";
            //     }
            // else {
            //
            // }
            // if(username.value!='')
            // {
            //     document.getElementById('myModal').style.display = 'block'
            // }
        // }
        //

        // function getregister(){
        //     var userRter =document.getElementById('UserRegister');
        //     var PasswordRter =document.getElementById('Passregister')
        //     var FPasswordRter =document.getElementById('FPassregister')
        //     var errorUserRter =document.getElementById('erUserregister')
        //     var errorPassRter =document.getElementById('erpassregister')
        //     var errorFPassRter =document.getElementById('erpassFregister')
        //     var form = document.getElementById('form')
        //     // let dulieu = localStorage.getItem("id1");
        //
        //     if(userRter.value== ''&&PasswordRter.value==''&&FPasswordRter.value==''){
        //         userRter.style.borderColor= "red";
        //         errorUserRter.innerText="Please enter the email address or phone number!!";
        //         errorUserRter.style.color="red"
        //         PasswordRter.style.borderColor="red";
        //         errorPassRter.innerText="Please enter your password !!";
        //         errorPassRter.style.color="red"
        //         FPasswordRter.style.borderColor="red";
        //         errorFPassRter.innerText="Please re-enter the password !!";
        //         errorFPassRter.style.color="red";
        //         return false;
        //     }else {
        //         if (userRter.value!=''&&PasswordRter.value==''&&FPasswordRter.value=='')
        //         {
        //             userRter.style.borderColor="green";
        //             errorUserRter.innerText="";
        //             PasswordRter.style.borderColor="red";
        //             errorPassRter.innerText="Please enter your password !!";
        //             errorPassRter.style.color="red";
        //             FPasswordRter.style.borderColor="red";
        //             errorFPassRter.innerText="Please re-enter the password !!";
        //             errorFPassRter.style.color="red";
        //
        //             return false;
        //
        //         }else {
        //             if(userRter.value!=''&&PasswordRter.value!=''&&FPasswordRter.value=='')
        //             {
        //                 userRter.style.borderColor="green";
        //                 errorUserRter.innerText="";
        //                 FPasswordRter.style.borderColor="red";
        //                 errorFPassRter.innerText="Please re-enter the password !!";
        //                 errorFPassRter.style.color="red";
        //
        //                 if(PasswordRter.value.length < 8 || PasswordRter.value.length > 20)
        //                 {
        //                     PasswordRter.style.borderColor="red";
        //                     errorPassRter.innerText="Password must have at least 8 and less then 20 characters!! ";
        //                     errorPassRter.style.color="red";
        //                 }
        //                 else {
        //                     PasswordRter.style.borderColor="green";
        //                     errorPassRter.innerText="";
        //                 }
        //                 return  false;
        //
        //             }else {
        //                 if (userRter.value!=''&&PasswordRter.value==''&&FPasswordRter.value!='')
        //                 {
        //                     userRter.style.borderColor="green";
        //                     errorUserRter.innerText="";
        //                     PasswordRter.style.borderColor="red";
        //                     errorPassRter.innerText="Please enter your password !!";
        //                     errorPassRter.style.color="red";
        //                     if(FPasswordRter.value.length < 8 || PasswordRter.value.length > 20)
        //                     {
        //                         FPasswordRter.style.borderColor="red";
        //                         errorFPassRter.innerText="Password must have at least 8 and less then 20 characters!!";
        //                         errorFPassRter.style.color="red";
        //
        //                     }
        //                     else {
        //                         FPasswordRter.style.borderColor="green";
        //                         errorFPassRter.innerText="";
        //                     }
        //                     return false;
        //                 }else
        //                 {
        //                     if(userRter.value==''&&PasswordRter.value!=''&&FPasswordRter.value=='')
        //                     {
        //                         userRter.style.borderColor="red";
        //                         errorUserRter.innerText="Please enter the email address or phone number!!";
        //                         errorUserRter.style.color="red";
        //                         if(PasswordRter.value.length < 8 || PasswordRter.value.length > 20)
        //                         {
        //                             PasswordRter.style.borderColor="red";
        //                             errorPassRter.innerText="Password must have at least 8 and less then 20 characters!!";
        //                             errorPassRter.style.color="red";
        //                         }
        //                         else {
        //                             PasswordRter.style.borderColor="green";
        //                             errorPassRter.innerText="";
        //                         }
        //                         FPasswordRter.style.borderColor="red";
        //                         errorFPassRter.innerText="Please re-enter the password !!";
        //                         errorFPassRter.style.color="red";
        //                         return false;
        //                     }
        //                     else {
        //                         if (userRter.value==''&&PasswordRter.value!=''&&FPasswordRter.value!='')
        //                         {
        //                             userRter.borderColor="red";
        //                             errorUserRter.innerText="Please enter the email address or phone number !!";
        //                             errorUserRter.style.color="red";
        //                             if (PasswordRter.value.length < 8 && FPasswordRter.value.length < 8)
        //                             {
        //                                 PasswordRter.style.borderColor="red";
        //                                 errorPassRter.innerText="Password must have at least 8 characters!! ";
        //                                 errorPassRter.style.color="red";
        //                                 FPasswordRter.style.borderColor="red";
        //                                 errorFPassRter.innerText="Password must have at least 8 characters!! ";
        //                                 errorFPassRter.style.color="red";
        //                             }
        //                             else {
        //
        //                                 if(PasswordRter.value.length >= 8 && FPasswordRter.value.length < 8)
        //                                 {
        //                                     PasswordRter.style.borderColor="green";
        //                                     errorPassRter.innerText="";
        //                                     FPasswordRter.style.borderColor="red";
        //                                     errorFPassRter.innerText="Password must have at least 8 characters!! ";
        //                                     errorFPassRter.style.color="red";
        //                                 }else {
        //                                     if (PasswordRter.value.length < 8 && FPasswordRter.value.length >= 8)
        //                                     {
        //                                         PasswordRter.style.borderColor="red";
        //                                         errorPassRter.innerText="Password must have at least 8 characters!! ";
        //                                         errorPassRter.style.color="red";
        //                                         FPasswordRter.style.borderColor="green";
        //                                         errorFPassRter.innerText="";
        //                                     }else {
        //                                         var passwordRG= PasswordRter.value;
        //                                         var passagain= FPasswordRter.value;
        //                                         if(passwordRG===passagain)
        //                                         {
        //                                             PasswordRter.style.borderColor="green";
        //                                             errorPassRter.innerText="";
        //                                             FPasswordRter.style.borderColor="green";
        //                                             errorFPassRter.innerText="";
        //                                         }
        //                                         else{
        //                                             PasswordRter.style.borderColor="red";
        //                                             errorPassRter.innerText="";
        //                                             FPasswordRter.style.borderColor="red";
        //                                             errorFPassRter.innerText="PassWord doesn't match";
        //                                             errorFPassRter.style.color="red";
        //
        //                                         }
        //
        //                                     }
        //                                 }
        //                             }
        //                             return false;
        //                         }
        //                         else {
        //                             if(userRter.value==''&&PasswordRter.value==''&&FPasswordRter.value!='')
        //                             {
        //                                 userRter.borderColor="red";
        //                                 errorUserRter.innerText="Please enter the email address or phone number !!";
        //                                 errorUserRter.style.color="red";
        //                                 PasswordRter.borderColor="red";
        //                                 errorPassRter.innerText="Please enter your password !!";
        //                                 errorPassRter.style.color="red";
        //                                 if(FPasswordRter.value.length < 8)
        //                                 {
        //                                     FPasswordRter.style.borderColor="red";
        //                                     errorFPassRter.innerText="Password must have at least 8 characters!! ";
        //                                     errorFPassRter.style.color="red";
        //
        //                                 }
        //                                 else {
        //                                     FPasswordRter.style.borderColor="green";
        //                                     errorFPassRter.innerText="";
        //                                 }
        //
        //                                 return false;
        //                             }else
        //                             {
        //                                 //3 cai deu co
        //                                 userRter.style.borderColor="green";
        //                                 userRter.innerText="";
        //                                 if (PasswordRter.value.length < 8 && FPasswordRter.value.length < 8)
        //                                 {
        //                                     PasswordRter.style.borderColor="red";
        //                                     errorPassRter.innerText="Password must have at least 8 characters!! ";
        //                                     errorPassRter.style.color="red";
        //                                     FPasswordRter.style.borderColor="red";
        //                                     errorFPassRter.innerText="Password must have at least 8 characters!! ";
        //                                     errorFPassRter.style.color="red";
        //
        //                                     return false;
        //                                 }
        //                                 else {
        //                                     if (PasswordRter.value.length >= 8 && FPasswordRter.value.length < 8) {
        //                                         PasswordRter.style.borderColor = "green";
        //                                         errorPassRter.innerText = "";
        //                                         FPasswordRter.style.borderColor = "red";
        //                                         errorFPassRter.innerText = "Password must have at least 8 characters!! ";
        //                                         errorFPassRter.style.color = "red";
        //
        //                                         return false;
        //                                     } else {
        //                                         if (PasswordRter.value.length < 8 && FPasswordRter.value.length >= 8) {
        //                                             PasswordRter.style.borderColor = "red";
        //                                             errorPassRter.innerText = "Password must have at least 8 characters!! ";
        //                                             errorPassRter.style.color = "red";
        //                                             FPasswordRter.style.borderColor = "green";
        //                                             errorFPassRter.innerText = "";
        //
        //                                             return false;
        //                                         } else {
        //                                             var passwordRG = PasswordRter.value;
        //                                             var passagain = FPasswordRter.value;
        //                                             if (passwordRG === passagain) {
        //                                                 PasswordRter.style.borderColor = "green";
        //                                                 errorPassRter.innerText = "";
        //                                                 FPasswordRter.style.borderColor = "green";
        //                                                 errorFPassRter.innerText = "";
        //                                                 return  true;
        //
        //                                             } else {
        //                                                 PasswordRter.style.borderColor = "red";
        //                                                 errorPassRter.innerText = "";
        //                                                 FPasswordRter.style.borderColor = "red";
        //                                                 errorFPassRter.innerText = "PassWord doesn't match";
        //                                                 errorFPassRter.style.color = "red";
        //                                                 return  false;
        //                                             }
        //                                         }
        //                                     }
        //                                 }
        //                             }
        //                         }
        //                     }
        //                 }
        //             }
        //         }
        //     }
        // }

    </script>
</head>
<body>
<div class="container bg-white">
    <form id="form" method="post" action=""  class="bg-light shadow"  th:object="${user}">
        <div class="col-md-5 col-10 text-center mx-auto">
            <img
                    class="rounded-circle my-4"
                    width="100px"
                    src="https://tienganhnghenoi.vn/wp-content/uploads/2020/05/cropped-96225991_549035042708519_8176283981029834752_n.png"
                    alt=""
            />
            <p class="text-grey mb-5">Make you become a professional wirter</p>
            <div class="form-group">
                <a href="#" class="w-100 btn border bg-light text-grey">
                    <i class="fa-brands fa-facebook-f mx-2 text-blue"></i>
                    <span class="text-lightgray">Continue with Facebook</span>
                </a>
            </div>
            <div class="divider d-flex align-items-center">
                <p class="text-center mb-1 mx-3">
                    <span class="text-lightgray">or</span>
                </p>
            </div>
            <div  class="input-control mt-1 ">
                <input id="UserRegister" th:field="*{email}"
                       type="text"
                       class="w-100"
                       placeholder="Email address or phone number"
                />
                <label id="erUserregister"  style="text-align: left;font-size: 12px"/>
<!--                <input type="hidden" th:value="${check}" id="han1">-->
            </div>
            <div class="input-control my-1">
                <input id="Passregister" name="Password" th:field="*{password}"
                       type="password"
                       class="w-100"
                       placeholder="Enter your password"
                />
                <label id="erpassregister" style="text-align: left;font-size: 12px"/>
<!--                <label id="newerror" style="text-align: left;font-size: 12px" th:field="*{error}"-->
<!--                />-->
            </div>
            <div class="input-control my-1">
                <input id="FPassregister" name="fPassword"
                       type="password"
                       class="w-100"
                       placeholder="Enter your password again"
                />
                <label id="erpassFregister" style="text-align: left;font-size: 12px"/>
            </div>
            <div class="d-flex flex-row justify-content-between px-5 my-2">
                <div class="form-group">
                    <input type="radio" th:field="*{roleid}" name="check"  value="1" id="check-t"/>
                    <label for="check-t" class="opacity-50">I am a teacher</label>
                </div>
                <div class="form-group">
                    <input checked type="radio" th:field="*{roleid}" name="check"  value="2" id="check-l"/>
                    <label for="check-l" class="opacity-50">I am a learner</label>
                </div>
                <script>
                    window.onload=function (){
                        var check= document.getElementById('check-l');
                        check.checked=true;
                    }
                </script>
            </div>
            <div class="form-group">
                <input  data-bs-toggle="modal"

                        onclick="return getregister()"
                        class="w-100 bg-green border text-light"
                        type="submit"
                        value="SIGN UP"
                />
            </div>
            <div class="mt-4 text-grey ">
                By creating an account, you are agreeing to our <br>
                <a class="text-green display-7" href="#"  id="run" >Terms of Sercice</a>
                <span>and</span>
                <a class="text-green display-7" href="#">Privacy Policy</a>

            </div>
            <div class="form-group mt-2">
                <a class="text-muted text-decoration-none" href="#"
                >Already have an account ?</a
                >
            </div>
            <div class="form-group pb-5">
                <a  class="text-green text-decoration-none" href="/"
                >Sign in</a
                >
            </div>
        </div>

    </form>
    <div class="modal" style="background: rgba(0,0,0,0.6)" id="Modal">
        <div class="modal-dialog d-flex h-75 align-items-center">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Thông Báo</h4>
                    <button type="button" class="btn-close" onclick="hideError()"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <p id="show_error" th:text="*{error}"></p>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="hideError()">Close</button>
                </div>

            </div>
        </div>
    </div>
    <div id="classmodal" style="background: rgba(0,0,0,0.6)" class="modal" >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button
                            type="button"
                            class="close"
                            onclick="hideModel()"
                    >
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title">Terms of Sercice</h4>
                </div>
                <div class="modal-body " style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif ; font-size: 20px;  ">
                    abc dắt dê
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default border bg-green" onclick="hideModel()" >
                        Close
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
<!--     /.modal-->
</div>

</body>
<script>
        if($('#show_error').text() != ""){
            $("#Modal").show()
        }
        function hideError(){
            $("#Modal").hide()
        }
        $("#run").click(function () {
            $("#classmodal").show();
        });
        function hideModel(){
            $("#classmodal").hide();
        }
    function getregister() {

        var userRter = document.getElementById("UserRegister");
        var PasswordRter = document.getElementById("Passregister");
        var FPasswordRter = document.getElementById("FPassregister");
        var errorUserRter = document.getElementById("erUserregister");
        var errorPassRter = document.getElementById("erpassregister");
        var errorFPassRter = document.getElementById("erpassFregister");
        var form = document.getElementById("form");

        function changeError(border, color) {
            border.style.borderColor = "red";
            color.style.color = "red";
        }
        function changeSuccess(border, color) {
            border.style.borderColor = "green";
            color.style.color = "green";
        }
        var flag = true;
        function checkNull(value, error, message) {
            if (value.value == "") {
                error.innerText = "Please enter " + message;
                changeError(value, error);
                return (flag = false);
            }
        }
        //   check username
        if (checkNull( userRter,errorUserRter,"the email address or phone number!!") != false) {
            if(!/^(?:0\d{9}|\w+@\w+\.\w{2,3})$/.test(userRter.value)){
                errorUserRter.innerText = "error format email or phone";
                changeError(userRter, errorUserRter);}
            else{
                errorUserRter.innerText = "";
                changeSuccess(userRter, errorUserRter);
            }
        }

        //check password
        if (
            checkNull(
                PasswordRter,
                errorPassRter,
                "your password !!"
            ) != false
        ) {
            if (PasswordRter.value.length < 8 || PasswordRter.value.length > 30) {
                errorPassRter.innerText =
                    "Password must have at least 8 and less then 30 characters!! ";
                changeError(PasswordRter, errorPassRter);
            } else {
                if (!/\w/.test(PasswordRter.value)) {
                    errorPassRter.innerText = "Password only number and word!! ";
                    changeError(PasswordRter, errorPassRter);
                } else {
                    errorPassRter.innerText = "";
                    changeSuccess(PasswordRter, errorPassRter);
                }
            }
        }

        //check re_password
        if (
            checkNull(FPasswordRter, errorFPassRter, "your password !!") != false
        ) {
            if (PasswordRter.value != FPasswordRter.value) {
                errorFPassRter.innerText = "PassWord doesn't match";
                changeError(FPasswordRter, errorFPassRter);
            } else {
                errorFPassRter.innerText = "";
                changeSuccess(FPasswordRter, errorFPassRter);
            }
        }

        if (
            errorUserRter.textContent == "" &&
            errorPassRter.textContent == "" &&
            errorFPassRter.textContent == ""
        ) {
            console.log(1);
            return true;
        }
        return false;
    }
</script>

</html>
